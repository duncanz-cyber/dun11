<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dun11 - WEB OS</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
      background: #f0f0f0;
      overflow: hidden;
    }
    /* existing styles omitted for brevity */
    .terminal-input {
      width: 100%;
      padding: 5px;
      font-family: monospace;
      border: none;
      outline: none;
    }
  </style>
</head>
<body>
  <!-- Boot, Login, Desktop HTML (unchanged) -->

  <script>
    const fileSystem = {
      "Documents": ["file1.txt", "report.docx"],
      "Pictures": ["photo.jpg", "wallpaper.png"],
      "Downloads": ["installer.exe"]
    };

    function renderFileSystemContent() {
      let content = `<div style="padding: 10px;">`;
      for (const folder in fileSystem) {
        content += `<div style="margin-bottom: 10px;"><strong>${folder}</strong><ul>`;
        fileSystem[folder].forEach(file => {
          content += `<li>${file}</li>`;
        });
        content += `</ul></div>`;
      }
      content += `</div>`;
      return content;
    }

    function renderTerminal() {
      return `
        <div style="background:black; color:lime; font-family:monospace; height:100%; padding:10px; overflow:auto;" id="terminal-output">
          <div>> Welcome to Dun11 Terminal</div>
        </div>
        <input class="terminal-input" id="terminal-input" onkeydown="terminalInput(event)" placeholder="Enter command..." />
      `;
    }

    function terminalInput(e) {
      if (e.key === "Enter") {
        const input = e.target;
        const output = document.getElementById("terminal-output");
        const command = input.value.trim();
        const response = handleTerminalCommand(command);
        output.innerHTML += `<div>> ${command}</div><div>${response}</div>`;
        output.scrollTop = output.scrollHeight;
        input.value = "";
      }
    }

    function handleTerminalCommand(cmd) {
      switch (cmd) {
        case "help": return "Commands: help, date, whoami, ls";
        case "date": return new Date().toString();
        case "whoami": return "zubairduncan";
        case "ls": return Object.keys(fileSystem).join("  ");
        default: return "Command not found.";
      }
    }

    function openApp(title, url) {
      toggleStartMenu();
      const win = document.createElement("div");
      win.className = "window";
      win.style.zIndex = ++zIndex;

      let contentHTML = "";

      if (title === "File System") {
        contentHTML = renderFileSystemContent();
      } else if (title === "Terminal") {
        contentHTML = renderTerminal();
      }

      win.innerHTML = `
        <div class="title-bar" onmousedown="dragMouseDown(event, this.parentElement)">
          <span class="title">${title}</span>
          <div class="window-controls">
            <button onclick="minimizeWindow(this)">_</button>
            <button onclick="maximizeWindow(this)">ðŸ—–</button>
            <button onclick="closeWindow(this)">âœ•</button>
          </div>
        </div>
        ${url ? `<iframe src="${url}" title="${title}"></iframe>` : `<div style="flex:1; overflow:auto;">${contentHTML}</div>`}
      `;

      document.getElementById("desktop").appendChild(win);
    }
  </script>
</body>
</html>
